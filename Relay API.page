---
format: markdown
title: Relay API
...

# Introduction

The relays have an API for switching them over the net. It is accessible at:  
`http://api.sybil.synyx.coffee/configuration/relays/` and  
`http://api.sybil.synyx.coffee/configuration/relays/{name}`

# Examples

## Retrieving the states of all relays

Perform a `GET` request to `http://api.sybil.synyx.coffee/configuration/relays/` and you should receive a response similar to this:

> Status → 200 OK  
> Content-Type → application/hal+json

---

```
{
  "_links": {
    "self": {
      "href": "http://localhost:8080/configuration/relays"
    }
  },
  "_embedded": {
    "sybil:relays": [
      {
        "name": "relayone",
        "uid": "rAL",
        "brick": {
          "name": "relaybrick",
          "hostname": "relayhost",
          "port": 4223
        },
        "relay1": true,
        "relay2": false,
        "_links": {
          "self": {
            "href": "http://api.sybil.synyx.coffee/configuration/relays/relayone"
          }
        }
      },
      {
        "name": "relaytwo",
        "uid": "fBc",
        "brick": {
          "name": "relaybrick",
          "hostname": "relayhost",
          "port": 4223
        },
        "relay1": false,
        "relay2": true,
        "_links": {
          "self": {
            "href": "http://api.sybil.synyx.coffee/configuration/relays/relaytwo"
          }
        }
      }

    ]
  }
}
```

---

Each listed relay-bricklet has two relays (`relay1` and `relay2`) which can have one of two states:

* `true` - the relay is switched ON
* `false` - the relay is switched OFF

## Turning all relays on or off

Perform a `PUT` request to `http://api.sybil.synyx.coffee/configuration/relays/` with a request body like the following:

---

```
{
  "patches": [
    {
      "action": "set",
      "target": "relays",
      "values": [
        "true"
      ]
    }
  ]
}
```

---

Set the single member of the `values`-array to `true` to turn all relays on, or to `false` to turn all relays off.